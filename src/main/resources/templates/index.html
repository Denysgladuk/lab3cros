<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
    <meta charset="UTF-8">
    <title>Taming Thymeleaf</title>
    <link rel="stylesheet" th:href="@{/css/application.css}">
    <script type="text/javascript" th:src="@{/webjars/alpinejs/dist/cdn.min.js}" defer></script>
    <script>
        function userPopupMenu() {
            return {
                show: false,
                toggleVisibility() {
                    this.show = !this.show;
                },
                close() {
                    this.show = false;
                },
                isVisible() {
                    return this.show === true;
                }
            };
        }
    </script>
    <style>
        @tailwind base;
        @tailwind components;
        @tailwind utilities;
        @layer utilities {
            [x-cloak] {
                display: none;
            }
        }
    </style>
</head>
<body>
<h1 th:text="${pageTitle}" class="text-4xl mx-4 mb-4 border-b-4 border-demo-green"></h1>
<div class="mx-4">
    <ul class="list-disc mx-6 text-base">
        <li th:each="language : ${languages}">
            <span th:text="${language}"></span>
        </li>
    </ul>
</div>

<div class="relative ml-3"
     x-data="userPopupMenu()"
     @click.away="close"
     @keydown.window.escape="close">
    <div>
        <button type="button"
                class="flex max-w-xs items-center rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
                id="user-menu-button" aria-expanded="false" aria-haspopup="true"
                @click="toggleVisibility">
            <span class="sr-only">Open user menu</span>
            <img class="h-8 w-8 rounded-full"
                 src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                 alt="">
        </button>
    </div>
    <div class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
         role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1"
         x-show="isVisible()"
         x-cloak
         x-transition:enter="transition ease-out duration-100 transform"
         x-transition:enter-start="opacity-0 scale-95"
         x-transition:enter-end="opacity-100 scale-100"
         x-transition:leave="transition ease-in duration-75 transform"
         x-transition:leave-start="opacity-100 scale-100"
         x-transition:leave-end="opacity-0 scale-95">
        <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-0">Your Profile</a>
        <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-1">Settings</a>
        <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-2">Sign out</a>
    </div>
</div>
</body>
</html>